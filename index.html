<!DOCTYPE html>
<html lang="en">
    <head>
        <title>
            TORO Chat with OTR Encryption
        </title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
        <meta content="en-us" http-equiv="Content-Language"/>
        <meta content="width=device-width, initial-scale=1" name="viewport"/>
        <link href="f.css" rel="stylesheet" type="text/css"/>
        <link href="filedrop.css" rel="stylesheet" type="text/css"/>
        <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet"/>
        <link href="/css/rrssb.css" rel="stylesheet"/>
        <link href="ico.ico" rel="icon" type="image/png"/>
    </head>
    <body style="background: #272822;">
        <div class="tabl">
            <div class="Row">
                <div class="ri">
                        <a href="">
                            <img src="icone.png" style="width: 8%;">
                        </a>
                        <h1 style="font-size: 3em;">
                            <a href="" style="text-decoration: none;">TORO</a>
                            <a href="https://github.com/Sanix-Darker" target="_blank">
                                <small style="font-size: 12px;">
                                    by S@n1x D4rk3r
                                </small>
                            </a>
                        </h1>

                        <div class="tp" id="actions">
                            <span id="urlid">
                                To start a secure chat, send this url to your peer:<br>
                                <span id="purl">
                                    Your link is loading, please wait a few second....
                                </span><br>
                                <center>
                                    <input type="text" id="purl_input" value="" style="color: black;display: none;">
                                    <input type="button" value="Copy link" style="background: black;color: white;padding: 10px;cursor: pointer;" id="copylinked">
                                    <input type="button" value="Change it" style="background: red;color: white;padding: 10px;cursor: pointer;" onclick="location.reload()">
                                </center>
                            </span>
                        </div>
                        <div id="connections">
                            <span class="filler">
                                <div class="about"> <h1> Welcome to TORO, an encrypted and secure chat by ' <a href="https://github.com/Sanix-Darker" target="_blank">Sanix darker</a> : </h1> <ul> <li> TORO - p2p chat, that mean you communicate directly, no logs saved on server </li> <li> TORO absolutely anonymous, registration free </li> <li> TORO browser based, that mean you don't need to install or ask somebody to install a software </li> <!-- <li> TORO use OTR (Off-the-Record Messaging) - most secure cryptographic protocol </li> --> <li> TORO <a href="https://github.com/Sanix-Darker" target="_blank"> Open-source </a> and written in JavaScript, that mean you can check how it works </li> </ul> <hr> <p> We believe that everyone has the right to communicate privately. If you agree, share with others: </p> 
                                    <center>
                                         <a href="#" onclick="window.open('https://www.facebook.com/sharer/sharer.php?u=' + encodeURIComponent(document.URL) + '&t=' + encodeURIComponent(document.URL)); return false;" target="_blank"> <i class="fa fa-facebook"></i> facebook </a> | | 
                                         <a href="#" onclick="window.open('https://twitter.com/intent/tweet?text=' + encodeURIComponent(document.title) + ':%20'  + encodeURIComponent(document.URL)); return false;" target="_blank" title="Tweet"> twitter </a> | | 
                                         <a href="#" onclick="window.open('https://plus.google.com/share?url=' + encodeURIComponent(document.URL)); return false;" target="_blank" title="Share on Google+"> google+ </a>
                                    </center>
                                 </div> <br/>
                            </span>
                            <div id="logg">
                            </div>
                        </div>
                        <form id="send" style="display:none;">
                            <div id="tarea">
                                <textarea class="chat" id="text" placeholder="Type your message here. Enter - send message. Ctrl+enter - new line">
                                </textarea>
                            </div>
                            <br>
                                <table class="swTab">
                                    <tr>
                                        <td>
                                            Sound
                                            <br>
                                                <div class="onoffswitch" id="ae">
                                                    <input checked="" class="onoffswitch-checkbox" id="sound" name="onoffswitch" type="checkbox">
                                                        <label class="onoffswitch-label" for="sound">
                                                            <span class="onoffswitch-inner">
                                                            </span>
                                                            <span class="onoffswitch-switch">
                                                            </span>
                                                        </label>
                                                    </input>
                                                </div>
                                             
                                        </td>
                                        <td>
                                            Encryption
                                            <br>
                                                <div class="onoffswitch" id="ae1">
                                                    <input class="onoffswitch-checkbox" id="otron" name="onoffswitch" type="checkbox">
                                                        <label class="onoffswitch-label" for="otron">
                                                            <span class="onoffswitch-inner">
                                                            </span>
                                                            <span class="onoffswitch-switch">
                                                            </span>
                                                        </label>
                                                    </input>
                                                </div>
                                             
                                        </td>
                                        <td>
                                            <input onclick="window.open('https://sanix-darker.github.io/TORO/');" type="submit" value="open new chat">
                                            </input>
                                        </td>
                                        <td>
                                            <a class="linktip" href="#" title="Send encrypted file">
                                                <i class="fa fa-paperclip fa-2x" id="paperclip">
                                                </i>
                                            </a>
                                        </td>
                                        <td>
                                            <input class="button" id="bsend" type="submit" value="Send"/>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                        </td>
                                        <td>
                                            <img id="waitotr" src="486.gif" style="display:none;"/>
                                        </td>
                                        <td>
                                        </td>
                                        <td>
                                        </td>
                                    </tr>
                                </table>
                             
                        </form>
                        <br>
                         
                    </img>
                </div>
                <audio id="chatAudio">
                    <source src="waterdrop.mp3" type="audio/mpeg">
                    </source>
                </audio>
            </div>
        </div>
        <script src="js/vendor/jquery.1.10.2.min.js" type="text/javascript"></script>
        <script src="peer.js" type="text/javascript"></script>
        <script src="build/dep/bigint.js"></script>
        <script src="build/dep/crypto.js"></script>
        <script src="build/dep/eventemitter.js"></script>
        <script src="build/otr.js"></script>
        <script src="js/rrssb.min.js"></script>
        <script src="filedrop-min.js"></script>
        <script src="hoverIntent.min.js"></script>
        <script src="/rollups/aes.js" type="text/javascript"></script>
        <script src="/components/enc-base64-min.js" type="text/javascript"></script>
        <script src="/rollups/sha256.js" type="text/javascript"></script>
        <script src="js/js.min.js" type="text/javascript"></script>
        <script type="text/javascript">

            setInterval(function(){
                $('#purl_input').val($('#purl').html());
            }, 1000);
            document.getElementById("copylinked").addEventListener("click", function() {
                copyToClipboard(document.getElementById("purl_input"));
            });
            function copyToClipboard(elem) {
                  // create hidden text element, if it doesn't already exist
                var targetId = "_hiddenCopyText_";
                var isInput = elem.tagName === "INPUT" || elem.tagName === "TEXTAREA";
                var origSelectionStart, origSelectionEnd;
                if (isInput) {
                    // can just use the original source element for the selection and copy
                    target = elem;
                    origSelectionStart = elem.selectionStart;
                    origSelectionEnd = elem.selectionEnd;
                } else {
                    // must use a temporary form element for the selection and copy
                    target = document.getElementById(targetId);
                    if (!target) {
                        var target = document.createElement("textarea");
                        target.style.position = "absolute";
                        target.style.left = "-9999px";
                        target.style.top = "0";
                        target.id = targetId;
                        document.body.appendChild(target);
                    }
                    target.textContent = elem.textContent;
                }
                // select the content
                var currentFocus = document.activeElement;
                target.focus();
                target.setSelectionRange(0, target.value.length);
                
                // copy the selection
                var succeed;
                try {
                    alert("Link copied successfully!");
                      succeed = document.execCommand("copy");
                } catch(e) {
                    alert("Problem when coping link!");

                    succeed = false;
                }
                // restore original focus
                if (currentFocus && typeof currentFocus.focus === "function") {
                    currentFocus.focus();
                }
                
                if (isInput) {
                    // restore prior selection
                    elem.setSelectionRange(origSelectionStart, origSelectionEnd);
                } else {
                    // clear temporary content
                    target.textContent = "";
                }
                return succeed;
            }
        </script>
    </body>
</html>
<style type="text/css">
    .messages{
        max-height: 23em!important;
    }
</style>


